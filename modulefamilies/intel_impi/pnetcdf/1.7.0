#%Module######################################
# note that this is read by a Tcl interpretor
#
proc ModulesHelp { } {
global path version
puts stderr "\tncarg - sets up the PNETCDF library"
puts stderr "\t\tto work with the Intel compilers\n"
puts stderr "\t\tand mvapich2\n"
puts stderr "\tPath $path/*\n"
puts stderr "\tVersion $version\n"
}

set version  1.7.0
set compiler intel/15.6.233
set mpi      impi/5.0.3.048

set path /apps/pnetcdf/$version/$compiler/$mpi

conflict pgi lahey openmpi mvapich2

module-whatis "loads the pnetcdf $version library for $compiler with $mpi MPI"

setenv PNETCDF $path

prepend-path PATH $path/bin
prepend-path MANPATH $path/man
prepend-path LD_LIBRARY_PATH $path/lib
prepend-path INCLUDE_PATH    $path/include
prepend-path LIBRARY_PATH    $path/lib

setenv PNETCDF_INCLUDE "-I$path/include"
setenv PNETCDF_LD_OPTS "-L$path/lib -lpnetcdf"
setenv PNETCDF_LIB     $path/lib

conflict pnetcdf
